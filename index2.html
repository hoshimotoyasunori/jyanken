<!DOCTYPE html>
<html lang="ja">

<head>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js'></script>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/lity/1.6.6/lity.css' />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/lity/1.6.6/lity.js'></script>
    <link rel="stylesheet" href="css/lity.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="js/lity.min.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="indec2.css">
    <title>Document</title>

</head>

<body class="is-slide" id="page-animate">

    <header>
        <div class="gu-">
            <li id="gu_btn">RUN</li>
        </div>
        <!-- movie test -->
        <!-- ジャンケンの結果からの動画 -->
        <p><a href="../ラグビー/movie/ハイタックル.mp4" data-lity="data-lity">動画を見る</a></p>
        <video id="movie1" controls width="100%" height="300%" autoplay muted></video>
        <video id="movie2" src="../ラグビー/movie/Golden - 48569.mp4" controls width="320" height="240" autoplay
            muted></video>
        <video id="movie3" src="../ラグビー/movie/Bird - 46026.mp4" controls width="320" height="240" autoplay
            muted></video>
        <video id="movie4" src="../ラグビー/movie/Creux De Van - 45150.mp4" controls width="320" height="240" autoplay
            muted></video>
        <video id="movie5" src="../ラグビー/movie/Golden - 48569.mp4" controls width="320" height="240" autoplay
            muted></video>
        <video id="movie6" src="../ラグビー/movie/Bird - 46026.mp4" controls width="320" height="240" autoplay
            muted></video>

        <div class="enemy" id="com_hand">相手は？</div>
        <div class="enemy" id="judgement">結果は？</div>
    </header>
    <main>

        <div class="cho">
            <li id="cho_btn">SCRUM</li>
        </div>
        <div class="par">
            <li id="par_btn">LINEOUT</li>
        </div>
    </main>
    <footer>
        <article><a href="index1.html" class="navigate-anchor">BACK</a></article>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        jQuery(function ($) {
            var movie = document.getElementById("movie1");
            movie.controls = false;
        });
        jQuery(function ($) {
            var movie = document.getElementById("movie2");
            movie.controls = false;
        });
        jQuery(function ($) {
            var movie = document.getElementById("movie3");
            movie.controls = false;
        });
        jQuery(function ($) {
            var movie = document.getElementById("movie4");
            movie.controls = false;
        });
        jQuery(function ($) {
            var movie = document.getElementById("movie5");
            movie.controls = false;
        });
        jQuery(function ($) {
            var movie = document.getElementById("movie6");
            movie.controls = false;
        });

        let count = 0;

        document.getElementById("movie1").style.display = "none";
        document.getElementById("movie2").style.display = "none";
        document.getElementById("movie3").style.display = "none";
        document.getElementById("movie4").style.display = "none";
        document.getElementById("movie5").style.display = "none";
        document.getElementById("movie6").style.display = "none";

        /*設定１*/
        // 画面が読み込まれた時、is-slideを外し、アニメーションさせる
        $(window).on('load', function () {
            $('body').removeClass('is-slide');
        });

        $(function () {
            // ハッシュリンク(#)と別ウィンドウでページを開く場合は実行しない

            $('a:not([href^="#"]):not([target])').on('click', function (e) {
                e.preventDefault();         // ページ遷移を一旦キャンセル
                url = $(this).attr('href'); // 遷移先のURLを取得

                if (url !== '') {
                    $('body').addClass('is-slide-in'); // 画面遷移前のアニメーション is-slide-in

                    setTimeout(function () {
                        window.location = url;  // 0.7秒後に取得したURLに遷移
                    }, 800);
                }
                return false;
            });

        });
        // document.getElementById("movie").src = "../ラグビー/movie/Creux De Van - 45150.mp4";

        /*ジャンケンのscript*/
        $(function () {
            const result = ['グー', 'チョキ', 'パー'];
            $('#gu_btn').on('click', function () {
                // グー
                let rand = Math.floor(Math.random() * 3);
                console.log(rand);
                //コンピューターの手
                $('#com_hand').text('enemy:' + result[rand]);
                if (rand == 0) {
                    count = count + 1;
                    console.log(count)
                    // あいこの時
                    document.getElementById("movie1").style.display = "block";
                    if (count == 3) {
                        // あいこが３回続いた時
                        document.getElementById("movie1").style.display = "block";
                    }
                } else if (rand == 1) {
                    // 勝ちの時
                    document.getElementById("movie2").style.display = "block";
                } else if (rand == 2) {
                    // 負けの時
                    document.getElementById("movie3").style.display = "block";
                } else {
                    console.log('エラー');
                }
            });
            $('#cho_btn').on('click', function () {
                //チョキ
                let rand = Math.floor(Math.random() * 3);
                console.log(rand);
                //コンピューターの手
                $('#com_hand').text('enemy:' + result[rand]);
                if (rand == 0) {
                    // 負けの時
                    document.getElementById("movie3").style.display = "block";
                } else if (rand == 1) {
                    count = count + 1;
                    console.log(count)
                    // あいこの時
                    document.getElementById("movie1").style.display = "block";
                    if (count == 3) {
                        // あいこが３回続いた時
                        document.getElementById("movie1").style.display = "block";
                    }
                } else if (rand == 2) {
                    // 勝ちの時
                    document.getElementById("movie2").style.display = "block";
                } else {
                    console.log('エラー');
                }
            });
            $('#par_btn').on('click', function () {
                //パー
                let rand = Math.floor(Math.random() * 3);
                console.log(rand);
                //コンピューターの手
                $('#com_hand').text('enemy:' + result[rand]);
                if (rand == 0) {
                    // 勝ちの時
                    document.getElementById("movie2").style.display = "block";
                } else if (rand == 1) {
                    // 負けの時
                    document.getElementById("movie3").style.display = "block";
                } else if (rand == 2) {
                    count = count + 1;
                    console.log(count)
                    // あいこの時
                    document.getElementById("movie1").style.display = "block";
                    if (count == 3) {
                        // あいこが３回続いた時
                        document.getElementById("movie1").style.display = "block";
                    }
                } else {
                    console.log('エラー');
                }
            });
        });
    </script>
</body>

</html>